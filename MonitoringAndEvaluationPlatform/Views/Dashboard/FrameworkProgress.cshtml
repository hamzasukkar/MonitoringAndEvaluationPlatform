@model MonitoringAndEvaluationPlatform.ViewModel.FrameworkProgressViewModel
@{
    ViewData["Title"] = "FrameworkProgress";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<h2 class="mb-4">📊 Framework Achievement Rates</h2>

<style>
    .progress-bar-custom {
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        color: #fff;
        font-weight: bold;
        padding-right: 12px;
        border-radius: 6px;
        transition: width 0.4s ease;
    }

    .progress-container {
        background-color: #f1f1f1;
        height: 30px;
        border-radius: 6px;
        margin-bottom: 15px;
    }

    .bar-1 {
        background-color: #004c6d;
    }

    .bar-2 {
        background-color: #00678f;
    }

    .bar-3 {
        background-color: #0084b3;
    }

    .bar-4 {
        background-color: #00a2d8;
    }

    .bar-5 {
        background-color: #29b6f6;
    }
</style>

<div class="container">
    <h5 class="mb-3">Top Frameworks by Achievement Rate</h5>
    @{
        int index = 1;
        foreach (var fw in Model.Frameworks.Take(5))
        {
            var barClass = $"bar-{index}";
            var tooltip = $"Indicators: {fw.TotalIndicators}, Target: {fw.TotalTarget}, Achieved: {fw.TotalAchieved}";
            <div class="mb-3" title="@tooltip">
                <label class="fw-bold">@fw.FrameworkName</label>
                <div class="progress-container">
                    <div class="progress-bar-custom @barClass" style="width:@fw.AchievementRate%">
                        @fw.AchievementRate.ToString("0.#")%
                    </div>
                </div>
            </div>
            index++;
        }
      
    }
</div>


